<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissor</title>
  </head>
  <body>
    <div><p>Rock Paper Scissor</p></div>
    <div>
      <button onclick="playGame('Rock')">Rock</button>
      <button onclick="playGame('Paper')">Paper</button>
      <button onclick="playGame('Scissors')">Scissors</button>
      <button
        onclick=" JSON.parse(localStorage.getItem('ScoreStatus'))
      ScoreStatus.winStat = 0;
      ScoreStatus.loseStat = 0;
      ScoreStatus.drawStat = 0;

      localStorage.setItem('ScoreStatus', JSON.stringify(ScoreStatus));


      alert('Score is reseted')
      "
      >
        Reset score
      </button>
    </div>

    <script>
      const ScoreStatus = JSON.parse(localStorage.getItem('ScoreStatus'));

      function playGame(playerMove) {
        const randomNumber = Math.random();
        let computerMove = '';

        if (randomNumber < 1 / 3) {
          computerMove = 'Rock';
        } else if (randomNumber < 2 / 3) {
          computerMove = 'Paper';
        } else {
          computerMove = 'Scissors';
        }

        let result = '';

        if (computerMove === playerMove) {
          result = 'Tie';
          ScoreStatus.drawStat += 1;
        } else if (
          (playerMove === 'Rock' && computerMove === 'Scissors') ||
          (playerMove === 'Paper' && computerMove === 'Rock') ||
          (playerMove === 'Scissors' && computerMove === 'Paper')
        ) {
          result = 'You Win!';
          ScoreStatus.winStat += 1;
        } else {
          result = 'You Lose!';
          ScoreStatus.loseStat += 1;
        }

        localStorage.setItem('ScoreStatus', JSON.stringify(ScoreStatus));

        alert(
          `You picked ${playerMove}. Computer picked ${computerMove}. ${result}
      Win: ${ScoreStatus.winStat} ,Lose:${ScoreStatus.loseStat} ,draw: ${ScoreStatus.drawStat}`
        );
      }
    </script>
  </body>
</html>
